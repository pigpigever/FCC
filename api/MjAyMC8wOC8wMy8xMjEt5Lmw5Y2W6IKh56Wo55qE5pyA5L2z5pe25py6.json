{"title":"121.买卖股票的最佳时机","date":"2020-08-03T13:21:57.000Z","date_formatted":{"ll":"Aug 3, 2020","L":"08/03/2020","MM-DD":"08-03"},"link":"2020/08/03/121-买卖股票的最佳时机","tags":["LeetCode","动态规划","算法","递归"],"updated":"2020-08-03T14:38:00.553Z","content":"<h2 id=\"题目\">题目<a title=\"#题目\" href=\"#题目\"></a></h2>\n<p>给定一个数组，它的第 i 个元素是一支给定股票第 i 天的价格。</p>\n<p>如果你最多只允许完成一笔交易（即买入和卖出一支股票一次），设计一个算法来计算你所能获取的最大利润。</p>\n<p>注意：你不能在买入股票前卖出股票。</p>\n<p>示例 1:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: [7,1,5,3,6,4]</span><br><span class=\"line\">输出: 5</span><br><span class=\"line\">解释: 在第 2 天（股票价格 &#x3D; 1）的时候买入，在第 5 天（股票价格 &#x3D; 6）的时候卖出，最大利润 &#x3D; 6-1 &#x3D; 5 。</span><br><span class=\"line\">     注意利润不能是 7-1 &#x3D; 6, 因为卖出价格需要大于买入价格；同时，你不能在买入前卖出股票。</span><br></pre></td></tr></table></figure>\n<p>示例 2:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: [7,6,4,3,1]</span><br><span class=\"line\">输出: 0</span><br><span class=\"line\">解释: 在这种情况下, 没有交易完成, 所以最大利润为 0。</span><br></pre></td></tr></table></figure>\n<h2 id=\"解题思路\">解题思路<a title=\"#解题思路\" href=\"#解题思路\"></a></h2>\n<h3 id=\"暴力求解\">暴力求解<a title=\"#暴力求解\" href=\"#暴力求解\"></a></h3>\n<p>通过两次 <code>for</code> 循环遍历，即固定买入股票来找最好卖股票的时机。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@param <span class=\"type\">&#123;number[]&#125;</span> <span class=\"variable\">prices</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@return <span class=\"type\">&#123;number&#125;</span></span></span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> maxProfit = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">prices</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> res = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; prices.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = i + <span class=\"number\">1</span>; j &lt; prices.length; j++) &#123;</span><br><span class=\"line\">            res = <span class=\"built_in\">Math</span>.max(res, prices[j] - prices[i])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"动态规划\">动态规划<a title=\"#动态规划\" href=\"#动态规划\"></a></h3>\n<p>这道题可以抽象为这两种状态：</p>\n<ul>\n<li>第 <code>i</code> 天买入了股票：<code>dp[i][0]</code></li>\n<li>第 <code>i</code> 天卖出了股票：<code>dp[i][1]</code></li>\n</ul>\n<p>当第 <code>i</code> 天卖出了股票，那么所获得的收益为：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">maxProfit = <span class=\"built_in\">Math</span>.max(dp[i][<span class=\"number\">0</span>], dp[i][<span class=\"number\">1</span>] + prices[i])</span><br></pre></td></tr></table></figure>\n","prev":{"title":"深入理解 axios","link":"2020/08/04/axios源码分析"},"next":{"title":"1528.重新排列字符串","link":"2020/07/30/1528-重新排列字符串"},"plink":"https://pigpigever.github.io/2020/08/03/121-买卖股票的最佳时机/","toc":[{"id":"题目","title":"题目","index":"1"},{"id":"解题思路","title":"解题思路","index":"2","children":[{"id":"暴力求解","title":"暴力求解","index":"2.1"},{"id":"动态规划","title":"动态规划","index":"2.2"}]}]}