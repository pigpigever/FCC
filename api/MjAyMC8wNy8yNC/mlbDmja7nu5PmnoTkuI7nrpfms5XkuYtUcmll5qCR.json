{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹Trieæ ‘","date":"2020-07-24T15:13:27.000Z","date_formatted":{"ll":"Jul 24, 2020","L":"07/24/2020","MM-DD":"07-24"},"thumbnail":"/images/thumbnail/3.jpg","link":"2020/07/24/æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹Trieæ ‘","tags":["æ•°æ®ç»“æ„","ç®—æ³•"],"categories":["æ•°æ®ç»“æ„"],"updated":"2020-07-29T12:28:06.780Z","content":"<h2 id=\"å‰è¨€\">å‰è¨€<a title=\"#å‰è¨€\" href=\"#å‰è¨€\"></a></h2>\n<p>è¿™ä¸ªç³»åˆ—æ–‡ç« ä¼šæ¢³ç†ä¸€äº›å¸¸è§çš„æ•°æ®ç»“æ„ä»¥åŠå¯¹åº”çš„å®ç°æ–¹å¼ã€‚æœ¬æ–‡æ˜¯ç¬¬ä¸€ç¯‡ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ï½</p>\n<h2 id=\"ä»€ä¹ˆæ˜¯-trie-æ ‘\">ä»€ä¹ˆæ˜¯ Trie æ ‘<a title=\"#ä»€ä¹ˆæ˜¯-trie-æ ‘\" href=\"#ä»€ä¹ˆæ˜¯-trie-æ ‘\"></a></h2>\n<h3 id=\"æ¦‚å¿µ\">æ¦‚å¿µ<a title=\"#æ¦‚å¿µ\" href=\"#æ¦‚å¿µ\"></a></h3>\n<p>Trie æ ‘åˆç§°ä¸ºã€Œå­—å…¸æ ‘ã€ï¼Œä¸ºäº†ä¸ Tree åŒºåˆ†å¼€æ¥ï¼Œé€šå¸¸å°† Trie æ ‘è¯»ä½œ Try æ ‘ï¼Œã€Šç®—æ³•4ã€‹ä¸Šåˆå°†è¿™ç§æ•°æ®ç»“æ„ç§°ä½œã€Œå•è¯æŸ¥æ‰¾æ ‘ã€ã€‚</p>\n<h3 id=\"ç»“æ„\">ç»“æ„<a title=\"#ç»“æ„\" href=\"#ç»“æ„\"></a></h3>\n<p>ğŸ§é‚£ä¹ˆè¿™ç§æ•°æ®ç»“æ„æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿé€šå¸¸åœ¨éœ€è¦å‰ç¼€åŒ¹é…æ—¶ä¼šç”¨åˆ° Trie æ ‘ï¼Œå› ä¸ºå®ƒç‰¹æ®Šçš„ç»“æ„å¯¼è‡´å…¶åœ¨æŸ¥æ‰¾å‰ç¼€çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(m)$ï¼Œå…¶ä¸­ <code>m</code> ä¸ºå‰ç¼€çš„é”®é•¿ã€‚<br>\nå‡è®¾æˆ‘ä»¬éœ€è¦æ„å»ºå­—ç¬¦æ•°ç»„ <code>['by', 'sea', 'sells', 'she', 'shells', 'the']</code> å½¢æˆçš„ Trie æ ‘ï¼Œå®ƒçš„æ•°æ®ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„ğŸ‘‡</p>\n<img src=\"/images/trie/trie.png\" height=\"600\">\n<p>å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºå‰ç¼€ç›¸åŒçš„æƒ…å†µï¼Œè¿™æ ·çš„æ•°æ®ç»“æ„æ˜¯èƒ½çœä¸‹å¾ˆå¤šç©ºé—´çš„ï½</p>\n<h3 id=\"åœºæ™¯\">åœºæ™¯<a title=\"#åœºæ™¯\" href=\"#åœºæ™¯\"></a></h3>\n<ul>\n<li>æœç´¢è‡ªåŠ¨è¡¥å…¨</li>\n<li>æ‹¼å†™æ£€æŸ¥</li>\n<li>IP è·¯ç”±æœ€é•¿å‰ç¼€åŒ¹é…</li>\n<li>ä¹å®«æ ¼æ‰“å­—é¢„æµ‹</li>\n</ul>\n<h2 id=\"å¸¸è§æ“ä½œ\">å¸¸è§æ“ä½œ<a title=\"#å¸¸è§æ“ä½œ\" href=\"#å¸¸è§æ“ä½œ\"></a></h2>\n<h3 id=\"å®šä¹‰\">å®šä¹‰<a title=\"#å®šä¹‰\" href=\"#å®šä¹‰\"></a></h3>\n<p>æ ¹æ®ä¸Šé¢æä¾›çš„å›¾ç¤ºæˆ‘ä»¬çŸ¥é“ï¼ŒTrie æ ‘éœ€è¦ä¸€ä¸ª <code>root</code> èŠ‚ç‚¹æŒ‡å‘å…¶ä»–é”®å€¼ï¼ŒåŒæ—¶æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ª <code>key</code> æ¥æ ‡è®°åˆ°å½“å‰å­—ç¬¦æ˜¯æŸä¸ªå•è¯çš„ç»“å°¾ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">TrieNode</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.next = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.isEnd = fasle</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Trie</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.root = <span class=\"keyword\">new</span> TrieNode()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ’å…¥\">æ’å…¥<a title=\"#æ’å…¥\" href=\"#æ’å…¥\"></a></h3>\n<p>å°†å­—ç¬¦ä¸² <code>word</code> æ’å…¥åˆ° Trie æ ‘ä¸­ğŸ‘‡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Trie.prototype.insert = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">word</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> &#123; root &#125; = <span class=\"keyword\">this</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; word.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!root.next[word[i]]) &#123;</span><br><span class=\"line\">            root.next[word[i]] = <span class=\"keyword\">new</span> TrieNode()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        root = root.next[word[i]]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    root.isEnd = <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"æŸ¥æ‰¾\">æŸ¥æ‰¾<a title=\"#æŸ¥æ‰¾\" href=\"#æŸ¥æ‰¾\"></a></h3>\n<p>ä» Trie æ ‘ä¸­æŸ¥æ‰¾æŒ‡å®šçš„ <code>word</code> ğŸ‘‡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Trie.prototype.search = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">word</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> helper = <span class=\"function\">(<span class=\"params\">root, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index === word.length) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> root.isEnd</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root.next[word[index]]) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> helper(root.next[word[index]], index + <span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> helper(<span class=\"keyword\">this</span>.root, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"trie-æ ‘çš„ä¼˜åŒ–\">Trie æ ‘çš„ä¼˜åŒ–<a title=\"#trie-æ ‘çš„ä¼˜åŒ–\" href=\"#trie-æ ‘çš„ä¼˜åŒ–\"></a></h2>\n<h3 id=\"ä¼ ç»Ÿ-trie-æ ‘çš„ç¼ºç‚¹\">ä¼ ç»Ÿ Trie æ ‘çš„ç¼ºç‚¹<a title=\"#ä¼ ç»Ÿ-trie-æ ‘çš„ç¼ºç‚¹\" href=\"#ä¼ ç»Ÿ-trie-æ ‘çš„ç¼ºç‚¹\"></a></h3>\n<p>å‡è®¾æŸä¸ª Trie æ ‘æ˜¯ç”±å­—ç¬¦æ•°ç»„ <code>['shells', 'shellfish']</code> ç»„æˆçš„ ğŸ‘‡</p>\n<img src=\"/images/trie/trie-2.png\" height=\"600\">\n<p>å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶è¯´ç›¸åŒçš„å­—ç¬¦ä¸²å‰ç¼€æ¥è¯´è¿™éƒ¨åˆ†ç©ºé—´æ²¡æœ‰æµªè´¹ï¼Œä½†æ˜¯ Trie ä¸­å­˜åœ¨çš„å¤§é‡å•å‘åˆ†æ”¯å´é€ æˆäº†å¤§é‡çš„ç©ºé—´æµªè´¹ï¼ˆå› ä¸ºå¾ˆå¤šç»“ç‚¹å®é™…ä¸Šåªç”¨è¿‡ä¸€æ¬¡ï¼Œä½†æ˜¯å´é‡å¤å‡ºç°ï¼‰ã€‚</p>\n<h3 id=\"ä¸‰å‘-trie-æ ‘\">ä¸‰å‘ Trie æ ‘<a title=\"#ä¸‰å‘-trie-æ ‘\" href=\"#ä¸‰å‘-trie-æ ‘\"></a></h3>\n<p>ä¸ºäº†è§£å†³ä¼ ç»Ÿ Trie æ ‘çš„ç¼ºç‚¹ï¼Œæœ‰äººæå‡ºäº†ä¸‰å‘ Trie æ ‘çš„ç»“æ„ï¼Œå…¶ç»“ç‚¹çš„ç»„æˆä¸ºï¼š</p>\n<ul>\n<li>å­—ç¬¦</li>\n<li>ä¸‰ä¸ªæŒ‡é’ˆï¼ˆåˆ†åˆ«æŒ‡å‘å°äºã€ç­‰äºã€å¤§äºå½“å‰å­—ç¬¦çš„ç»“ç‚¹ï¼‰</li>\n<li>å€¼</li>\n</ul>\n<h4 id=\"å®šä¹‰-1\">å®šä¹‰<a title=\"#å®šä¹‰-1\" href=\"#å®šä¹‰-1\"></a></h4>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">TrieNode</span> (<span class=\"params\">val</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.val = val</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.left = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.mid = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.right = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.isEnd = <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Trie</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.root = <span class=\"keyword\">new</span> TrieNode()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"æ’å…¥-1\">æ’å…¥<a title=\"#æ’å…¥-1\" href=\"#æ’å…¥-1\"></a></h4>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Trie.prototype.insert = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">word</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> &#123; root &#125; = <span class=\"keyword\">this</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; word.length; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!<span class=\"built_in\">Object</span>.keys(root.mid)[<span class=\"number\">0</span>]) &#123;</span><br><span class=\"line\">            root.mid[word[i]] = <span class=\"keyword\">new</span> TrieNode()</span><br><span class=\"line\">            root = root.mid[word[i]]</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (root.mid[word[i]]) &#123;</span><br><span class=\"line\">            root = root.mid[word[i]]</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"built_in\">Object</span>.keys(root.mid)[<span class=\"number\">0</span>] &gt; word[i]) &#123;</span><br><span class=\"line\">            root.left[word[i]] = <span class=\"keyword\">new</span> TrieNode()</span><br><span class=\"line\">            root = root.left[word[i]]</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            root.right[word[i]] = <span class=\"keyword\">new</span> TrieNode()</span><br><span class=\"line\">            root = root.right[word[i]]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    root.isEnd = <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"æŸ¥æ‰¾-1\">æŸ¥æ‰¾<a title=\"#æŸ¥æ‰¾-1\" href=\"#æŸ¥æ‰¾-1\"></a></h4>\n<h2 id=\"æ€»ç»“\">æ€»ç»“<a title=\"#æ€»ç»“\" href=\"#æ€»ç»“\"></a></h2>\n<p><img src=\"/images/trie/trie-3.png\" alt=\"\" class=\"Ï†cx\"></p>\n<h2 id=\"å‚è€ƒèµ„æ–™\">å‚è€ƒèµ„æ–™<a title=\"#å‚è€ƒèµ„æ–™\" href=\"#å‚è€ƒèµ„æ–™\"></a></h2>\n<ul>\n<li>ã€Šç®—æ³•ã€‹ï¼ˆç¬¬4ç‰ˆï¼‰</li>\n</ul>\n","prev":{"title":"å‰‘æŒ‡Offer31.æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—","link":"2020/07/28/å‰‘æŒ‡Offer31-æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—"},"next":{"title":"1490.å…‹éš†Nå‰æ ‘","link":"2020/07/18/1490-å…‹éš†Nå‰æ ‘"},"plink":"https://pigpigever.github.io/2020/07/24/æ•°æ®ç»“æ„ä¸ç®—æ³•ä¹‹Trieæ ‘/","toc":[{"id":"å‰è¨€","title":"å‰è¨€","index":"1"},{"id":"ä»€ä¹ˆæ˜¯-trie-æ ‘","title":"ä»€ä¹ˆæ˜¯ Trie æ ‘","index":"2","children":[{"id":"æ¦‚å¿µ","title":"æ¦‚å¿µ","index":"2.1"},{"id":"ç»“æ„","title":"ç»“æ„","index":"2.2"},{"id":"åœºæ™¯","title":"åœºæ™¯","index":"2.3"}]},{"id":"å¸¸è§æ“ä½œ","title":"å¸¸è§æ“ä½œ","index":"3","children":[{"id":"å®šä¹‰","title":"å®šä¹‰","index":"3.1"},{"id":"æ’å…¥","title":"æ’å…¥","index":"3.2"},{"id":"æŸ¥æ‰¾","title":"æŸ¥æ‰¾","index":"3.3"}]},{"id":"trie-æ ‘çš„ä¼˜åŒ–","title":"Trie æ ‘çš„ä¼˜åŒ–","index":"4","children":[{"id":"ä¼ ç»Ÿ-trie-æ ‘çš„ç¼ºç‚¹","title":"ä¼ ç»Ÿ Trie æ ‘çš„ç¼ºç‚¹","index":"4.1"},{"id":"ä¸‰å‘-trie-æ ‘","title":"ä¸‰å‘ Trie æ ‘","index":"4.2"}]},{"id":"æ€»ç»“","title":"æ€»ç»“","index":"5"},{"id":"å‚è€ƒèµ„æ–™","title":"å‚è€ƒèµ„æ–™","index":"6"}]}